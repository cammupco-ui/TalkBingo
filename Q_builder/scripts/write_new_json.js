
const fs = require('fs');
const path = require('path');

const userInput = [{ "topic": "자취 꿀팁", "category": "Friend", "order_code_prefix": "BDcL2", "gender_policy": "neutral", "context_variant": "자취생 동네 정보 교환", "base_content": "자취하는 동네 주변에 뭐 괜찮은 곳 있어?", "enrichment_materials": { "enrichment_community_contexts": "친구 집 근처 맛집 탐방 | 동네 주민만 아는 찐맛집 공유 | 주말에 같이 갈 만한 곳 물색 | 심야식당/카페 정보 교환", "enrichment_trending_keywords": "슬세권 | 찐맛집 | 가성비 | 핫플 | N차로 가기 좋은 곳", "enrichment_psychological_tensions": "나만 알고 싶은 아지트 vs 정보 공유 | 친구 취향 저격 실패에 대한 부담감 | 가성비 vs 분위기 우선순위 갈등", "enrichment_conversation_friendly_terms": "혹시 | ~근처에 | ~할 만한 곳 | 추천 좀 | 공유" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Friend", "order_code_prefix": "BDcL2", "gender_policy": "neutral", "context_variant": "친구의 첫 독립 응원", "base_content": "첫 자취 시작하는데, 적응하는 데 어려운 점은 없어?", "enrichment_materials": { "enrichment_community_contexts": "첫 독립 기념 집들이 | 이사 후 짐 정리 도와주기 | 부모님으로부터 막 독립한 친구 안부 묻기 | 자취 선배의 조언 타임", "enrichment_trending_keywords": "자취 N년차 | 생존템 | 삶의 질 수직 상승템 | 벌레와의 전쟁 | 공과금 폭탄", "enrichment_psychological_tensions": "독립의 설렘 vs 현실적 막막함 | 외로움과 자유로움 사이 | 섣부른 조언에 대한 경계 | '나 때는 말이야' 식의 훈수", "enrichment_conversation_friendly_terms": "혹시 | 괜찮아 | 막상 ~해보니 | 의외로 | 어려운 점" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Friend", "order_code_prefix": "BDcL2", "gender_policy": "neutral", "context_variant": "생활비 절약 노하우 공유", "base_content": "자취하면서 생활비는 어떻게 아끼고 있어?", "enrichment_materials": { "enrichment_community_contexts": "월급 전 텅장 토크 | 공과금 폭탄 맞은 후 푸념 | 중고 마켓 앱 꿀팁 공유 | 배달비 아끼기 위한 공동구매", "enrichment_trending_keywords": "짠테크 | 앱테크 | 무지출 챌린지 | 냉파 | 플렉스", "enrichment_psychological_tensions": "욜로 vs 짠테크 가치관 대립 | 절약과 궁상 사이 | 친구의 소비 습관에 대한 은근한 견제 | '이것까지 아껴?'라는 시선", "enrichment_conversation_friendly_terms": "꿀팁 | 노하우 | 소소한 | 나름의 방법 | 은근 꿀템" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Family", "order_code_prefix": "FaFsL3", "gender_policy": "neutral", "context_variant": "자녀의 독립 준비", "base_content": "자취 준비는 어떻게 되어가나요?", "enrichment_materials": { "enrichment_community_contexts": "독립할 집에 가구 배치 의논|필수 생활용품 리스트 점검|월세/관리비 등 현실적인 비용 논의|부모님과 함께 자취방 보러 다니기|이사 전날 함께 짐 싸는 상황", "enrichment_trending_keywords": "자취템|첫 자취|독립 만세|생존 키트|셀프 인테리어", "enrichment_psychological_tensions": "기대감과 막막함 사이|부모님의 걱정 어린 잔소리|경제적 지원에 대한 부담감|간섭과 관심의 경계|혼자 모든 걸 해결해야 한다는 두려움", "enrichment_conversation_friendly_terms": "궁금해서|도와줄 거 없을까|차근차근|응원하는 마음|대견하다" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Family", "order_code_prefix": "FaFsL3", "gender_policy": "neutral", "context_variant": "부모님의 생활 조언", "base_content": "부모님은 자취 생활에 대해 어떤 조언을 해주셨나요?", "enrichment_materials": { "enrichment_community_contexts": "본가 반찬 싸주시며 하시는 말씀|아플 때 대처법에 대한 당부|음식물 쓰레기 버리는 법 강의|낯선 사람에게 문 열어주지 말라는 경고|밥은 꼭 챙겨 먹으라는 잔소리", "enrichment_trending_keywords": "엄마표 레시피|생활의 지혜|피가 되고 살이 되는 조언|K-잔소리|등짝 스매싱 각", "enrichment_psychological_tensions": "고마움과 귀찮음 사이|현실적인 조언 vs. 시대에 뒤떨어진 조언|걱정에서 비롯된 반복적인 당부|다 컸다는 생각과 여전히 의지하는 마음|조언을 따르지 못했을 때의 미안함", "enrichment_conversation_friendly_terms": "기억에 남는|가장 도움이 됐던|새삼 깨달은|피식 웃음이 났던|가슴에 와닿았던" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Family", "order_code_prefix": "FaFsL3", "gender_policy": "neutral", "context_variant": "자취 경험이 있는 형제자매의 조언", "base_content": "자취 경험이 있는 형제자매에게 어떤 조언을 들었나요?", "enrichment_materials": { "enrichment_community_contexts": "형/누나가 쓰던 자취템 물려받기|메신저로 집 근처 맛집 공유|\"이건 절대 사지 마\" 같은 찐경험 공유|벌레 잡는 노하우 전수|부모님께는 말 못 할 고민 상담", "enrichment_trending_keywords": "자취 선배|현실 조언|내돈내산 꿀템|공감 100%|이건 찐이야", "enrichment_psychological_tensions": "친구처럼 편안한 조언|부모님보다 솔직한 팩트 폭력|은근한 경쟁심 혹은 비교|세대 차이 없는 공감대 형성|나도 저렇게 되겠지 하는 막연함", "enrichment_conversation_friendly_terms": "가장 의외였던|핵심만 요약하자면|이것만은 꼭|듣고 보니|솔직히 말해서" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Lover", "order_code_prefix": "LoSwL2", "gender_policy": "neutral", "context_variant": "애인의 자취 생활 공유", "base_content": "자취 생활을 하면서 얻은 꿀팁이나 재미있는 에피소드 있어?", "enrichment_materials": { "enrichment_community_contexts": "애인 자취방에 깜짝 방문 | 같이 배달음식 시켜 먹는 상황 | 요리하다 실패한 웃긴 경험 | 한밤중 벌레와의 사투 | 분리수거 날짜 놓쳐서 당황한 기억", "enrichment_trending_keywords": "생존템 | 자취 만렙 | QOL 상승템 | 배달음식 치트키 | 꿀템 | 인생템", "enrichment_psychological_tensions": "나만의 공간 공개에 대한 쑥스러움 | 유용한 정보 공유 욕구 | 지저분한 모습 들킬까 봐 걱정 | 공감대 형성 기대", "enrichment_conversation_friendly_terms": "별거 아니지만 | 문득 궁금한데 | 나만 아는 비밀인데 | 소소한 거라도 | 혹시 너는" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Lover", "order_code_prefix": "LoSwL2", "gender_policy": "neutral", "context_variant": "독립 생활의 어려움 상담", "base_content": "독립 생활하면서 혹시 어려운 점이나 고민되는 거 있어?", "enrichment_materials": { "enrichment_community_contexts": "아플 때 혼자 서러웠던 경험 | 월세, 공과금 등 금전적 압박 | 밥 제때 못 챙겨 먹는 상황 | 층간소음 같은 이웃 갈등 | 밤늦게 혼자 귀가할 때의 무서움", "enrichment_trending_keywords": "현타 | 번아웃 | 마음고생 | 고정지출 | 집밥 그리움 | 서러움 폭발", "enrichment_psychological_tensions": "힘든 내색하기 싫은 마음 | 애인에게 부담 주기 싫음 | 솔직하게 털어놓고 싶은 욕구 | 독립적인 모습만 보이고 싶은 압박감", "enrichment_conversation_friendly_terms": "말하기 좀 그럴 수도 있지만 | 내가 도와줄 수 있는 건 없을까 | 힘들면 언제든 말해줘 | 혼자 끙끙 앓지 말고 | 나한테는 편하게" }, "date": "2026-01-20" }, { "topic": "자취 꿀팁", "category": "Lover", "order_code_prefix": "LoSwL2", "gender_policy": "neutral", "context_variant": "미래의 동거 계획", "base_content": "나중에 같이 살게 된다면 뭘 가장 해보고 싶어?", "enrichment_materials": { "enrichment_community_contexts": "같이 장보고 저녁 메뉴 정하기 | 주말 아침 함께 늦잠 자기 | 우리 취향대로 집 꾸미기 | 홈파티 열어서 친구들 초대 | 반려동물 함께 키우기", "enrichment_trending_keywords": "로망 실현 | 홈스윗홈 | 우리만의 아지트 | 소확행 | 가구 쇼핑 | 플랜테리어", "enrichment_psychological_tensions": "생활 습관 차이에 대한 막연한 불안감 | 결혼으로 이어질지에 대한 기대와 부담 | 개인 시간과 공간의 필요성 | 경제적 책임 분담 문제", "enrichment_conversation_friendly_terms": "그냥 상상해봤는데 | 만약에 우리 | 너랑 함께라면 | 사소한 거라도 좋아 | 꼭 해보고 싶은 거" }, "date": "2026-01-20" }];

const targetFile = '/Users/anmijung/Desktop/TalkBingo/Q_builder/src/data/grouped_data.json';
const backupFile = '/Users/anmijung/Desktop/TalkBingo/Q_builder/src/data/grouped_data.json.bak';

// Backup (try/catch in case file doesn't exist)
try {
    if (fs.existsSync(targetFile)) {
        fs.copyFileSync(targetFile, backupFile);
        console.log('Backed up existing file');
    }
} catch (e) {
    console.error('Backup failed:', e);
}

// Prepare new content (NDJSON wrapped in one raw_input object)
const ndjson = userInput.map(item => JSON.stringify(item)).join('\n');
const newContent = [
    { raw_input: ndjson }
];

// Write
fs.writeFileSync(targetFile, JSON.stringify(newContent, null, 4));
console.log('Successfully wrote new grouped_data.json');
