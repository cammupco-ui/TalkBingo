# ⭐ Important - TalkBingo - 관계 및 친밀도 정의집

## 📋 목차
1. [성별 정의 (Gender)](#1-성별-정의-gender)
2. [관계 정의 (Relations)](#2-관계-정의-relations)
3. [친밀도 정의 (Intimacy Levels)](#3-친밀도-정의-intimacy-levels)
4. [관계-친밀도 매트릭스](#4-관계-친밀도-매트릭스)
5. [질문 카테고리 매핑](#5-질문-카테고리-매핑)

---

## 1. 성별 및 역할 정의 (Gender & Roles)

TalkBingo에서는 사용자의 성별을 기반으로 질문을 필터링하지 않고, **관계와 친밀도**를 중심으로 질문을 가져온 뒤 **현재 턴의 역할(Role)**에 따라 텍스트를 동적으로 변환합니다.

### 1.1 기본 성별 코드
```
M: Male (남성)
F: Female (여성)
```

### 1.2 게임 내 역할 (Turn-Based Roles)
게임 진행 중(Game Loop)에는 누가 질문하고 누가 답하느냐에 따라 역할이 부여됩니다.

```
Attacker (A): 질문자 (현재 턴의 주인 / 공격)
Defender (D): 응답자 (질문을 받는 사람 / 수비)
```

### 1.3 동적 성별 변형 (Dynamic Gender Variants)
질문 데이터는 특정 성별에 고정되지 않으며, **Attacker → Defender**의 성별 조합에 따라 4가지 변형 텍스트를 가집니다.

*   `M -> F`: 남성이 여성에게 질문
*   `F -> M`: 여성이 남성에게 질문
*   `M -> M`: 남성이 남성에게 질문
*   `F -> F`: 여성이 여성에게 질문

---

### Supabase 및 로직 활용 예시

성별에 따라 다른 질문 ID를 가져오는 것이 아니라, **관계(Relation)와 친밀도(Intimacy)**에 맞는 질문을 가져온 후 화면에서 텍스트만 바꿉니다.

#### 1. 데이터 저장 (Flutter -> Supabase)
호스트가 설정한 관계 정보가 세션에 저장됩니다.

```dart
// GameSetupScreen.dart
session.relationMain = 'Friend';
session.relationSub = 'B-Ar';  // 고향친구
session.intimacyLevel = 3;     // L3
```

#### 2. 질문 매칭 로직 (Supabase Query: Wildcard Strategy)
성별 코드를 `*` (Wildcard)로 처리하여, 성별에 상관없이 해당 관계에 맞는질문을 폭넓게 가져옵니다.

```dart
// GameSession.dart (Fetch Logic)
// 형식: [*-*]-[Relation]-[SubRelation]-[Intimacy]
String codeName = "*-*-B-Ar-L3"; 
// 성별 무관(Universal), 고향친구(B-Ar), 친밀도(L3)인 질문 요청
```

#### 3. 쿼리 예시
```sql
SELECT * FROM questions
WHERE 
  -- 1. 관계와 친밀도가 정확히 일치하는 질문
  '*-*-B-Ar-L3' = ANY(code_names)
  OR
  -- 2. Fallback: 하위 관계 무시 (친구 L3 전체)
  '*-*-B-*-L3' = ANY(code_names)
  OR
  -- 3. Fallback: 관계 무시 (모든 L3)
  '*-*-*-*-L3' = ANY(code_names);
```
이렇게 가져온 질문(`Question`) 모델 내부의 `variants` 맵을 통해, 실제 게임 화면에서는 플레이어의 성별에 맞는 텍스트(예: "누나/동생...")가 출력됩니다.

---

## 2. 관계 정의 (Relations)

### 2.1 친구 (B: Friend)

친구는 자발적으로 형성된 수평적 관계로, 호스트가 다음 네 가지 하위 유형 중 하나를 직접 선택합니다.

#### 🏡 고향친구 (Ar: Area Friend)
```
코드: B-Ar
선택 가이드: 어릴 때부터 알고 지낸 사이, 고향이 같거나 소꿉친구인 경우
특징:
  - 오랜 기간 알고 지낸 관계
  - 성장 과정 공유
  - 가족끼리도 아는 경우가 많음
  
예시 관계:
  - 초/중학교 동창이자 동네 친구
  - 부모님끼리 아는 소꿉친구
  - 10년 지기 동네 친구

권장 친밀도 범위: L2 ~ L5
```

#### 🎓 학교친구 (Sc: School Friend)
```
코드: B-Sc
선택 가이드: 학교(초/중/고/대)에서 만나 친해진 사이
특징:
  - 학창 시절 추억 공유
  - 동창회, 동아리 등 학교 기반 모임
  - 현재는 각자 다른 지역에 살 수도 있음
  
예시 관계:
  - 고등학교 같은 반 친구
  - 대학교 학과 동기
  - 동아리 선후배

권장 친밀도 범위: L1 ~ L4
```

#### 💼 직장동료 (Or: Organization Friend)
```
코드: B-Or
선택 가이드: 직장, 아르바이트 등 일터에서 만난 사이
특징:
  - 업무 공감대 형성
  - 사회생활 후 만난 관계
  - 공적인 관계에서 사적인 관계로 발전
  
예시 관계:
  - 전 직장 동료
  - 현재 팀 동료
  - 거래처나 프로젝트로 알게 된 사이

권장 친밀도 범위: L1 ~ L4
```

#### 🏘️ 동네친구 (Dc: Daily-life Circle Friend)
```
코드: B-Dc
선택 가이드: 현재 사는 곳이 가깝거나, 모임/취미 활동으로 자주 보는 사이
특징:
  - 물리적 거리가 가까움
  - 번개 만남이 쉬움
  - 생활 반경 공유 (헬스장, 카페 등)
  
예시 관계:
  - 동네 술친구
  - 운동 메이트 (헬스, 러닝 등)
  - 같은 동네로 이사 와서 친해진 경우
  - 온라인 모임(소모임)에서 만난 친구

권장 친밀도 범위: L1 ~ L4
```

---

### 2.2 가족 (Fa: Family)

가족은 혈연 또는 법적 관계로 형성된 관계로, 호스트가 상대방과의 구체적인 관계를 직접 선택합니다.

#### 👫 형제/자매 (Br: Brother / Si: Sister)
```
코드: Fa-Br (형제), Fa-Si (자매)
선택 가이드: 부모님이 같은 동성 형제자매 (형, 동생, 언니, 여동생)
특징:
  - 성장 환경 공유
  - 평생 지속되는 관계
  - 가장 가까운 또래 가족
  
예시 관계:
  - 형과 남동생
  - 언니와 여동생
  - 쌍둥이 형제/자매

권장 친밀도 범위: L2 ~ L5
```

#### 👬👭 남매 (Sb: Sister-Brother / Bs: Brother-Sister)
```
코드: Fa-Sb (누나-남동생), Fa-Bs (오빠-여동생)
선택 가이드: 부모님이 같은 이성 형제자매 (누나, 남동생, 오빠, 여동생)
특징:
  - 성별이 다른 형제 관계
  - 서로의 이성관에 영향을 줌
  
예시 관계:
  - 오빠와 여동생
  - 누나와 남동생

권장 친밀도 범위: L2 ~ L5
```

#### 👨‍👦 사촌 (Co: Cousin)
```
코드: Fa-Co
선택 가이드: 큰아빠/작은아빠, 고모, 이모, 외삼촌의 자녀
특징:
  - 명절이나 가족 행사에서 주로 만남
  - 형제자매보다는 멀지만 친구처럼 지낼 수 있는 사이
  
예시 관계:
  - 친척 형/오빠/누나/언니
  - 이종/고종 사촌

권장 친밀도 범위: L1 ~ L4
```

#### �� 조부모-손자녀 (Gp: Grandparent)
```
코드: Fa-Gp
선택 가이드: 할아버지/할머니와 손자/손녀 관계
특징:
  - 2세대 이상의 차이
  - 내리사랑과 존경의 관계
  
예시 관계:
  - 할아버지와 손자
  - 외할머니와 손녀

권장 친밀도 범위: L2 ~ L5
```

#### �‍� 부모-자녀 (Parent-Child)
```
코드: 
  - Fa-Fs (아버지-아들)
  - Fa-Md (어머니-딸)
  - Fa-Ms (어머니-아들)
  - Fa-Fd (아버지-딸)

선택 가이드: 부모님과 자녀 관계
특징:
  - 가장 기본적인 직계 가족
  - 양육과 부양의 관계
  
예시 관계:
  - 아버지와 아들
  - 어머니와 딸

권장 친밀도 범위: L2 ~ L5
```

---

### 2.3 연인 (Lo: Lover)

연인은 로맨틱한 감정을 바탕으로 형성된 친밀한 관계입니다.

#### 💑 애인 (Sw: Sweet / Gw: Girl/Guy We're dating)
```
코드: Lo-Sw (남자친구/약혼자), Lo-Gw (여자친구/약혼녀)
선택 가이드: 결혼하지 않았지만 교제 중인 사이 (썸, 연애, 약혼 포함)
특징:
  - 법적 구속력이 없는 자유로운 관계
  - 설렘과 로맨스 중심
  
예시 관계:
  - 사귄 지 100일 된 커플
  - 결혼을 약속한 예비 부부
  - 오래된 장수 커플

권장 친밀도 범위: L3 ~ L5
```

#### 💍 부부 (Hw: Husband-Wife / Pw: Partner-Wife)
```
코드: Lo-Hw (부부), Lo-Pw (배우자)
선택 가이드: 결혼식을 올렸거나 법적으로 혼인한 부부
특징:
  - 법적/경제적 공동체
  - 평생을 약속한 동반자
  - 육아와 가사를 함께 분담
  
예시 관계:
  - 신혼부부
  - 결혼 10년 차 부부
  - 은퇴 후 노부부

권장 친밀도 범위: L4 ~ L5
```

---

## 3. 친밀도 정의 (Intimacy Levels)

친밀도는 두 사람 사이의 감정적 깊이와 신뢰의 정도를 나타냅니다. 관계별로 친밀도의 의미가 다를 수 있으므로, 아래 기준을 참고하여 선택하세요.

### 🌟 Level 1: 첫 만남 (어색한 사이)
**"서로를 탐색하고 예의를 갖추는 단계"**

#### 🙂 친구 (Friends)
*   **상태**: 막 알게 되어 서로 존댓말을 쓰거나, 아직 공통점을 찾아가는 단계.
*   **대화**: "취미가 뭐예요?", "어떤 음식 좋아하세요?" 등 호불호 탐색.
*   **해당 케이스**:
    *   새 학기 첫 짝꿍
    *   입사 첫 주 동료
    *   소모임 신입 회원

#### 👨‍👩‍👧 가족 (Family)
*   **상태**: 가족이지만 자주 보지 않아 어색하거나, 서로의 생활을 잘 모르는 단계.
*   **대화**: "요즘 어떻게 지내?", "건강하시지?" 등 안부 위주.
*   **해당 케이스**:
    *   명절에만 보는 먼 친척
    *   오랫동안 떨어져 지낸 사촌

#### 💑 연인 (Lover)
*   **상태**: 소개팅 직후나 썸 타는 초기 단계.
*   **대화**: 설렘과 긴장 속에 서로의 마음을 확인하는 조심스러운 대화.
*   **해당 케이스**:
    *   소개팅 첫 만남
    *   번호 교환 직후

---

### 🌱 Level 2: 알아가는 단계
**"일상적인 대화가 자연스럽고 편안해진 단계"**

#### 🙂 친구 (Friends)
*   **상태**: 공통된 관심사나 경험을 공유하며, 연락이 부담스럽지 않은 사이.
*   **대화**: "주말에 뭐 했어?", "이 영화 봤어?" 등 가벼운 일상 공유.
*   **해당 케이스**:
    *   점심 같이 먹는 직장 동료
    *   가끔 연락하는 동창
    *   취미 활동 메이트

#### 👨‍👩‍👧 가족 (Family)
*   **상태**: 기본적인 성향을 알고 있으며, 명절이나 행사 때 편하게 어울리는 사이.
*   **대화**: 학교/직장 이야기, 최근 관심사 등 근황 토크.
*   **해당 케이스**:
    *   가끔 안부 전하는 이모/고모/삼촌
    *   또래 사촌과 SNS 맞팔

#### 💑 연인 (Lover)
*   **상태**: 썸이 무르익거나 연애 초반, 서로의 취향을 파악해가는 시기.
*   **대화**: 데이트 코스 상의, 서로의 하루 일과 공유.
*   **해당 케이스**:
    *   썸 타는 중 (확신 단계)
    *   연애 1~3개월 차

---

### 🤝 Level 3: 친한 사이
**"솔직한 감정 표현과 농담이 가능한 단계"**

#### 🙂 친구 (Friends)
*   **상태**: 스스럼없이 장난칠 수 있고, 과거 연애사나 가벼운 고민도 털어놓는 사이.
*   **대화**: "그때 기억나?", "진짜 짜증 났겠다" 등 공감과 에피소드 위주.
*   **해당 케이스**:
    *   학창시절 단짝 친구
    *   휴가 같이 가는 친구
    *   퇴사 후에도 계속 보는 전 직장 동료

#### 👨‍👩‍👧 가족 (Family)
*   **상태**: 서로의 성격을 잘 알고, 농담이나 가벼운 투정도 받아주는 사이.
*   **대화**: 옛날 추억 이야기, 모임에서의 에피소드.
*   **해당 케이스**:
    *   자주 연락하는 형제/자매
    *   친구 같은 부모-자녀 관계
    *   자주 어울리는 사촌 모임

#### 💑 연인 (Lover)
*   **상태**: 서로에게 익숙해져 편안함을 느끼며, 싸우고 화해하며 관계가 단단해진 시기.
*   **대화**: 서로의 친구 이야기, 직장 스트레스, 가벼운 미래 이야기.
*   **해당 케이스**:
    *   안정적인 연애 중 (6개월 이상)
    *   서로의 쌩얼 공개 가능

---

### 💬 Level 4: 고민 상담 가능
**"약점과 상처를 공유하며 깊은 유대감을 가진 단계"**

#### 🙂 친구 (Friends)
*   **상태**: 인생의 중요한 고민(진로, 이별, 가정사)을 믿고 맡길 수 있는 사이.
*   **대화**: "사실 나 요즘...", "너한테만 말하는 건데" 등 진지한 속마음.
*   **해당 케이스**:
    *   힘들 때 가장 먼저 생각나는 친구
    *   10년 지기 베프
    *   서로의 부모님도 챙기는 사이

#### 👨‍👩‍👧 가족 (Family)
*   **상태**: 서로의 삶에 깊이 관여하며, 실질적인 조언과 도움을 주고받는 사이.
*   **대화**: 경제적 문제, 결혼/진로 등의 중대사 의논.
*   **해당 케이스**:
    *   부모님과 인생 상담하는 자녀
    *   서로 의지하는 끈끈한 형제애

#### 💑 연인 (Lover)
*   **상태**: 단순한 연인을 넘어 인생의 동반자로 생각하며 깊은 신뢰를 쌓은 시기.
*   **대화**: 결혼/동거 논의, 깊은 가치관 공유, 트라우마 고백.
*   **해당 케이스**:
    *   결혼을 전제로 교제 중
    *   장수 커플 (N년 차)
    *   신혼부부

---

### 🔒 Level 5: 깊은 신뢰
**"비밀이 없고 서로를 완전히 수용하는 영혼의 단짝 단계"**

#### 🙂 친구 (Friends)
*   **상태**: 가족보다 더 가족 같은 사이, 말하지 않아도 통하는 관계.
*   **대화**: 모든 비밀 공유, 금전적 문제 공유, 노후 계획.
*   **해당 케이스**:
    *   죽마고우 (평생 친구)
    *   모든 흑역사를 알고 있는 친구

#### 👨‍👩‍👧 가족 (Family)
*   **상태**: 존재 자체로 힘이 되며, 어떤 희생도 감수할 수 있는 절대적 사랑의 관계.
*   **대화**: 유언, 상속, 생사의 문제 등 가장 무거운 주제도 가능.
*   **해당 케이스**:
    *   헌신적인 부모님
    *   세상에 둘도 없는 자매/형제

#### 💑 연인 (Lover)
*   **상태**: 서로가 서로의 일부가 된 단계, 완벽한 일심동체.
*   **대화**: 경제 공동체로서의 논의, 평생의 약속.
*   **해당 케이스**:
    *   평생의 반려자 (부부)
    *   영혼의 파트너


---

## 4. 관계-친밀도 매트릭스

### 4.1 관계별 일반적인 친밀도 분포

| 관계 유형 | L1 | L2 | L3 | L4 | L5 | 평균 친밀도 |
|----------|----|----|----|----|-------|------------|
| **친구 관계** |
| B-Ar (고향친구) | 5% | 15% | 30% | 35% | 15% | **L3~L4** |
| B-Sc (학교친구) | 10% | 30% | 40% | 15% | 5% | **L2~L3** |
| B-Or (직장동료) | 20% | 40% | 30% | 8% | 2% | **L2** |
| B-Dc (동네친구) | 15% | 35% | 35% | 12% | 3% | **L2~L3** |
| **가족 관계** |
| Fa-Br/Si (형제자매) | 0% | 10% | 30% | 40% | 20% | **L3~L4** |
| Fa-Sb/Bs (남매) | 0% | 15% | 35% | 35% | 15% | **L3~L4** |
| Fa-Co (사촌) | 5% | 40% | 35% | 15% | 5% | **L2~L3** |
| Fa-Fs/Md/Ms/Fd (부모-자녀) | 0% | 5% | 20% | 45% | 30% | **L4** |
| **연인 관계** |
| Lo-Sw (애인) | 0% | 5% | 35% | 40% | 20% | **L3~L4** |
| Lo-Hw (부부) | 0% | 0% | 10% | 40% | 50% | **L4~L5** |

### 4.2 친밀도 발전 시간표

```
일반적인 관계 발전 속도:

친구 관계 (B):
L1 → L2: 3~6개월 (정기적 만남 기준)
L2 → L3: 6개월~1년
L3 → L4: 1~3년
L4 → L5: 5년 이상

가족 관계 (Fa):
- 형제자매: 성장 과정에서 자연스럽게 L3~L4 형성
- 사촌: 교류 빈도에 따라 L1~L3
- 부모-자녀: 자녀 나이와 소통 방식에 따라 L2~L5

연인 관계 (Lo):
L3 → L4: 6개월~1년 (연애 기간)
L4 → L5: 1~3년 (결혼 전후)
```

---

## 5. 질문 카테고리 매핑

### 5.1 친밀도별 질문 유형

#### L1 질문 (가벼운 탐색)
```
카테고리:
  - 기본 정보 (나이, 직업, 학교)
  - 취향 (음식, 음악, 영화)
  - 일상 루틴
  - 첫인상

예시:
  - "가장 좋아하는 음식은?"
  - "주말엔 보통 뭐 해?"
  - "최근에 본 영화 중 추천할 만한 게 있어?"
  - "처음 봤을 때 내 첫인상은?"
```

#### L2 질문 (경험 공유)
```
카테고리:
  - 학창시절 추억
  - 취미 생활
  - 가벼운 고민
  - 좋아하는 것/싫어하는 것

예시:
  - "학창시절 가장 기억에 남는 일은?"
  - "요즘 빠진 취미가 있어?"
  - "친구들이랑 보통 뭐 하고 놀아?"
  - "내가 싫어하는 사람 유형은?"
```

#### L3 질문 (민감한 주제)
```
카테고리:
  - 과거 연애
  - 개인적 실수
  - 외모·성격 고민
  - 가족 관계 (일부)

예시:
  - "전 연인과 헤어진 이유는?"
  - "인생에서 가장 후회되는 선택은?"
  - "내 외모 중 바꾸고 싶은 점은?"
  - "부모님과의 관계는 어때?"
```

#### L4 질문 (깊은 고민)
```
카테고리:
  - 진로 고민
  - 정신 건강
  - 가족 갈등
  - 과거의 상처

예시:
  - "지금 가장 큰 고민은 뭐야?"
  - "우울했던 시기가 있었어?"
  - "가족 중에 힘든 관계가 있어?"
  - "극복하지 못한 트라우마가 있어?"
```

#### L5 질문 (모든 것)
```
카테고리:
  - 비밀
  - 경제적 문제
  - 미래 계획
  - 법적·윤리적 딜레마

예시:
  - "아무에게도 말하지 못한 비밀이 있어?"
  - "지금 경제적으로 어려운 점은?"
  - "10년 후 어떤 삶을 살고 싶어?"
  - "살면서 한 가장 큰 실수는?"
```

### 5.2 관계별 추천 질문 유형 (Truth Game Examples)

#### 친구 관계 (B)
```
B-Ar (고향친구):
  공통 질문:
    - 어릴 때 추억
    - 같이 놀던 장소
    - 학창시절 사건
    - 서로의 변화
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "초등학교 때 같이 축구했던 거 기억나?"
      - "군대 다녀온 후 어떻게 달라졌어?"
      - "같이 PC방 가던 거 생각나?"
    
    F-F (여성-여성):
      - "어릴 때 같이 인형 놀이 했던 거 기억나?"
      - "중학교 때 같이 좋아했던 아이돌 누구였지?"
      - "같이 화장 연습하던 거 기억나?"
    
    M-F (남성-여성):
      - "학교 다닐 때 이성으로 의식한 적 있어?"
      - "서로 연애 고민 상담 많이 했지?"
      - "주변에서 사귀는 거 아니냐고 물어본 적 있어?"

B-Sc (학교친구):
  공통 질문:
    - 학교 추억
    - 선생님/교수님 이야기
    - 시험 에피소드
    - 졸업 후 변화
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "체육 시간에 같은 팀이었던 거 기억나?"
      - "같이 게임하거나 만화 본 적 많았지?"
      - "군대 가기 전에 만났던 거 기억나?"
    
    F-F (여성-여성):
      - "화장실에서 같이 수다 떨던 거 기억나?"
      - "누가 더 예쁘다고 주변에서 말했어?"
      - "생리 얘기도 스스럼없이 했지?"
    
    M-F (남성-여성):
      - "수업 시간에 짝이었던 적 있어?"
      - "서로 이성 친구 소개해준 적 있어?"
      - "졸업 후에도 자주 연락하고 지냈어?"

B-Or (직장동료):
  공통 질문:
    - 업무 스트레스
    - 직장 내 인간관계
    - 커리어 고민
    - 이직 계획
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "회식 자리에서 속마음 많이 나눴지?"
      - "담배 피우러 가면서 이야기 많이 했어?"
      - "같이 운동하거나 골프 치러 가?"
    
    F-F (여성-여성):
      - "점심시간에 같이 밥 먹으면서 수다 떨었지?"
      - "직장 내 차별 같이 겪은 적 있어?"
      - "화장품이나 패션 정보 같이 공유했어?"
    
    M-F (남성-여성):
      - "직장에서 오해받은 적 없어?"
      - "서로 업무적으로 도움 많이 줬지?"
      - "퇴근 후에도 따로 만날 정도로 편해?"

B-Dc (동네친구):
  공통 질문:
    - 취미 생활
    - 동네 맛집
    - 일상 루틴
    - 관심사 공유
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "헬스장에서 같이 운동해?"
      - "축구나 농구 같이 하러 가?"
      - "게임 같이 하거나 술 마시러 가?"
    
    F-F (여성-여성):
      - "카페에서 수다 떨면서 시간 가는 줄 몰랐지?"
      - "같이 쇼핑하거나 맛집 탐방 다녀?"
      - "요가나 필라테스 같이 배워?"
    
    M-F (남성-여성):
      - "이성 친구로 편하게 지내는 거야?"
      - "연애 상담 서로 해줘?"
      - "주변에서 사귀는 줄 아는 사람 많아?"
```

#### 가족 관계 (Fa)
```
Fa-Br/Si (형제자매):
  공통 질문:
    - 어릴 때 싸운 기억
    - 부모님 이야기
    - 서로에 대한 속마음
    - 가족 내 역할
  
  성별별 특화 질문:
    M-M (형제):
      - "형/동생 중 누가 더 싸움 잘했어?"
      - "군대 이야기 서로 많이 나눴어?"
      - "부모님께 누가 더 말썽이었어?"
    
    F-F (자매):
      - "옷이나 화장품 같이 쓴 적 많아?"
      - "언니/동생 중 누가 더 예뻐?"
      - "연애 이야기 서로 털어놔?"

Fa-Sb/Bs (남매):
  공통 질문:
    - 이성 형제만의 특별한 관계
    - 서로 챙겨준 기억
    - 질투했던 순간
    - 연애 상담
  
  성별별 특화 질문:
    M-F (오빠-여동생):
      - "오빠가 남자친구 대하듯 까다로웠어?"
      - "동생 데이트 상대 검증해준 적 있어?"
      - "동생 앞에서 쿨한 척 많이 했지?"
    
    F-M (누나-남동생):
      - "누나가 엄마처럼 잔소리 많이 했어?"
      - "동생 여자친구 어떤지 궁금하지?"
      - "동생한테 패션 조언 해준 적 있어?"

Fa-Co (사촌):
  공통 질문:
    - 명절 추억
    - 친척들 이야기
    - 같이 놀던 기억
    - 연락 빈도
  
  성별별 특화 질문:
    M-M (남자 사촌):
      - "명절 때 사촌 형제들끼리 게임했지?"
      - "군대 이야기 같이 공유했어?"
      - "어른들 안 계실 때 같이 술 마신 적 있어?"
    
    F-F (여자 사촌):
      - "명절 때 부엌일 같이 했지?"
      - "화장이나 옷 스타일 서로 봐줬어?"
      - "사촌 오빠들 누가 더 잘생겼는지 얘기했어?"
    
    M-F / F-M (이성 사촌):
      - "어릴 때 이성으로 의식한 적 있어?"
      - "서로 연애 상담 편하게 해?"
      - "명절 때 서먹하지 않아?"

Fa-Parent (부모-자녀):
  성별별 특화 질문:
    M-M (아버지-아들):
      - "아버지처럼 되고 싶어?"
      - "남자로서 조언 많이 해주셨어?"
      - "군대 이야기 나눈 적 있어?"
    
    F-F (어머니-딸):
      - "엄마 화장품 몰래 써본 적 있어?"
      - "연애 이야기 편하게 나눠?"
      - "외모에 대해 얘기 많이 해?"
    
    F-M (어머니-아들):
      - "엄마가 제일 많이 걱정하시는 게 뭐야?"
      - "여자친구 엄마한테 소개했어?"
      - "엄마 말씀이 제일 힘이 돼?"
    
    M-F (아버지-딸):
      - "아빠가 남자친구 검증 심하게 했어?"
      - "아빠랑 데이트한 적 있어?"
      - "아빠가 딸바보야?"
```

#### 연인 관계 (Lo)
```
Lo-Sw (애인):
  성별별 특화 질문:
    M-F (남자친구-여자친구):
      - "남자친구가 로맨틱한 편이야?"
      - "생리 기간에 배려해줘?"
      - "스킨십 먼저 시도하는 쪽은?"
    
    F-M (여자친구-남자친구):
      - "여자친구가 애교 많이 부려?"
      - "질투 많이 하는 편이야?"
      - "데이트 비용 어떻게 나눠?"

Lo-Hw (부부):
  성별별 특화 질문:
    M-F (남편-아내):
      - "집안일 분담 어떻게 해?"
      - "아내의 커리어 지지해줘?"
      - "육아 역할 어떻게 나눠?"
    
    F-M (아내-남편):
      - "남편이 살림에 적극적이야?"
      - "시댁과의 관계는 어때?"
      - "남편이 감정 표현 잘해?"

Fa-Gp (조부모-손자녀):
  성별별 특화 질문:
    M-M (할아버지-손자):
      - "할아버지처럼 되고 싶어?"
      - "할아버지의 인생 이야기 들었어?"
      - "명절 때 할아버지와 뭐 하며 시간 보내?"
    
    F-F (할머니-손녀):
      - "할머니 화장품 몰래 써본 적 있어?"
      - "할머니의 요리 비법 배웠어?"
      - "할머니와 쇼핑 가는 거 좋아해?"
    
    M-F (할아버지-손녀):
      - "할아버지가 손녀바보야?"
      - "할아버지와 데이트한 적 있어?"
      - "할아버지가 남자친구 검증 심하게 했어?"
    
    F-M (할머니-손자):
      - "할머니가 제일 많이 걱정하시는 게 뭐야?"
      - "할머니 말씀이 제일 힘이 돼?"
      - "할머니와 함께 보낸 시간 중 가장 기억에 남는 건?"
```

### 5.3 밸런스 퀴즈 추천 질문 (Balance Quiz Examples)

아래는 진실게임 카테고리를 기반으로 재구성한 관계별/친밀도별 밸런스 퀴즈 예시입니다. 질문은 **"상황 vs 상황"** 또는 **"가치관 vs 가치관"** 구조를 따릅니다.

#### 1. 친구 관계 (Friends)

**🏡 고향친구 (B-Ar)**
*   **L1 (탐색)**: "오랜만에 만났는데", **밥 먹기 vs 술 마시기**
*   **L2 (추억)**: "다시 돌아간다면", **초딩 때로 가기 vs 중딩 때로 가기**
*   **L3 (일상)**: "더 꼴불견인 친구는?", **돈 안 쓰는 짠돌이 vs 매일 술 주정뱅이**
*   **L4 (신뢰)**: "친구가 사업한다고 돈 빌려달라고 하면", **1000만원 빌려준다 vs 절대 안 된다**
*   **L5 (영혼)**: "친구가 범죄를 저질렀다면", **자수 권유하고 신고 vs 무덤까지 비밀**

**🎓 학교친구 (B-Sc)**
*   **L1 (탐색)**: "시험 기간에", **혼자 도서관 vs 친구랑 카페**
*   **L2 (취향)**: "팀플할 때 더 싫은 유형", **잠수타는 팀원 vs 독불장군 팀장**
*   **L3 (비밀)**: "친구가 내 짝사랑 상대를 좋아한다면", **포기한다 vs 경쟁한다**
*   **L4 (고민)**: "친구가 퇴사/자퇴 고민할 때", **현실적으로 말린다 vs 무조건 응원한다**
*   **L5 (미래)**: "평생 친구 한 명만 남길 수 있다면", **지금 내 앞의 너 vs 부자 친구**

**💼 직장동료 (B-Or)**
*   **L1 (탐색)**: "점심시간", **동료들과 맛집 vs 혼자 조용히 샌드위치**
*   **L2 (업무)**: "더 싫은 상사는?", **일 못하고 착함 vs 일 잘하고 싸가지**
*   **L3 (뒷담)**: "동료가 내 뒷담화 하는 걸 들었다면", **바로 따진다 vs 모른 척 넘어간다**
*   **L4 (커리어)**: "연봉 2배 스카웃 제의", **동료 버리고 간다 vs 의리로 남는다 (동료랑 같이 이직 시도)**
*   **L5 (비밀)**: "사내 연애 들켰을 때", **공개한다 vs 끝까지 숨긴다**

**🏘️ 동네친구 (B-Dc)**
*   **L1 (취향)**: "만나서 놀 때", **활동적인 운동/볼링 vs 수다 떠는 카페/맛집**
*   **L2 (생활)**: "급하게 돈 필요할 때", **5만원 빌려줄 수 있다 vs 곤란하다**
*   **L3 (연애)**: "내 애인이 이 친구랑 단둘이 술 마신다면", **쿨하게 허락 vs 절대 안 됨**
*   **L4 (고민)**: "친구가 집안 사정으로 힘들어할 때", **적극적으로 돕는다 vs 위로만 해준다**
*   **L5 (신뢰)**: "이 친구와 룸메이트 하기", **가능 vs 불가능 (절교각)**

---

#### 2. 가족 관계 (Family)

**👫 형제/자매 (Fa-Br/Fa-Si)**
*   **L1 (어색)**: "같이 밥 먹을 때", **대화하며 먹기 vs 말없이 폰만 보기**
*   **L2 (일상)**: "집안일 분담", **칼같이 나눈다 vs 눈치껏 한다**
*   **L3 (비밀)**: "형제/자매가 부모님 몰래 사고쳤을 때", **덮어준다 vs 바로 고자질**
*   **L4 (고민)**: "내가 빚 1억이 생겼다면", **형제에게 말한다 vs 부모님께 말한다**
*   **L5 (희생)**: "형제/자매를 위해 신장 이식", **해줄 수 있다 vs 고민해본다**

**👬 남매 (Fa-Sb/Fa-Bs)**
*   **L1 (취향)**: "TV 채널권 싸움", **스포츠/게임 방송 vs 드라마/예능**
*   **L2 (간섭)**: "내 옷 몰래 입고 나간 남매", **봐준다 vs 전쟁 시작**
*   **L3 (연애)**: "내 친구랑 남매가 사귄다면", **적극 추천 vs 도시락 싸들고 말림**
*   **L4 (진로)**: "남매가 잘 안 풀릴 때", **용돈 주며 위로 vs 쓴소리로 조언**
*   **L5 (유대)**: "나중에 나이 들어서", **같은 동네 살기 vs 멀리 떨어져 살기**

**👨‍👦 사촌 (Fa-Co)**
*   **L1 (명절)**: "명절에 만나면", **어색하게 인사만 vs 바로 같이 논다**
*   **L2 (비교)**: "어른들이 자꾸 비교할 때", **무시한다 vs 스트레스 받는다**
*   **L3 (친목)**: "사촌끼리 여행 가기", **재밌겠다 vs 불편하다**
*   **L4 (도움)**: "사촌이 큰돈을 빌려달라고 하면", **빌려준다 vs 가족끼리 돈거랜 안 한다**
*   **L5 (가족)**: "친형제보다 더 친한 사촌", **있다 vs 없다**

**👨‍👧 부모-자녀 (Parent-Child)**
*   **L1 (세대)**: "주말 아침", **다 같이 밥 먹기 vs 각자 알아서 해결**
*   **L2 (간섭)**: "내 방 청소", **부모님이 해주심 vs 내 물건 건드리는 거 싫음**
*   **L3 (연애)**: "부모님 반대하는 결혼", **끝까지 설득 vs 헤어진다**
*   **L4 (부양)**: "부모님 노후", **모시고 산다 vs 실버타운 보내드린다**
*   **L5 (사랑)**: "다시 태어나도", **부모님의 자녀로 vs 다른 삶**

**👴👵 조부모-손자녀 (Grandparents)**
*   **L1 (어색)**: "할머니/할아버지 댁 가면", **내내 TV/핸드폰 vs 계속 말동무 해드리기**
*   **L2 (용돈)**: "용돈 주실 때", **죄송해서 사양 vs 감사히 받음**
*   **L3 (세대)**: "할머니/할아버지의 옛날이야기", **재밌다 vs 지루하다**
*   **L4 (걱정)**: "편찮으시면", **매주 찾아뵙기 vs 바빠서 전화로만**
*   **L5 (사랑)**: "가장 존경하는 분", **부모님 vs 조부모님**

---

#### 3. 연인 관계 (Lovers)

**💑 애인 (Lo-Sw)**
*   **L1 (연애관)**: "데이트 비용", **더치페이 vs 여유 있는 사람이 더**
*   **L2 (습관)**: "연락 빈도", **하루 종일 톡 vs 중요할 때만 전화**
*   **L3 (과거)**: "판도라의 상자", **애인의 과거사 다 알기 vs 모르는 게 약**
*   **L4 (미래)**: "결혼 후 시댁/처가 살이", **가능 vs 절대 불가능**
*   **L5 (운명)**: "지금 이 사람과", **당장 결혼 가능 vs 아직은 이름**

**💍 부부 (Lo-Hw)**
*   **L1 (생활)**: "치약 짜는 법", **중간부터 vs 끝에서부터 (사소한 걸로 싸움)**
*   **L2 (경제)**: "돈 관리", **각자 관리하고 생활비 갹출 vs 한 명이 통합 관리**
*   **L3 (우선순위)**: "물에 빠지면 누구 먼저?", **배우자 vs 자녀**
*   **L4 (위기)**: "배우자의 도박 빚/바람", **한 번은 용서 vs 바로 이혼**
*   **L5 (영원)**: "다시 태어나다면", **지금 배우자와 결혼 vs 다른 사람과 결혼**

---

## 6. 활용 가이드

### 6.1 관계 판단 흐름도

```
질문 1: 이 관계는 어떻게 시작되었나?
├─ 혈연/법적: Fa (가족)
├─ 로맨틱: Lo (연인)
└─ 그 외: B (친구)

질문 2 (친구일 경우): 어디서 만났나?
├─ 어릴 때부터 같은 지역: B-Ar
├─ 학교: B-Sc
├─ 직장: B-Or
└─ 일상 생활권: B-Dc

질문 3: 얼마나 친한가?
├─ 처음/서먹: L1
├─ 조금 편함: L2
├─ 스스럼없음: L3
├─ 고민 공유: L4
└─ 모든 것 공유: L5
```

### 6.2 AI 에이전트 활용

```python
# 관계 및 친밀도 분석 예시
def analyze_relationship(user1_id, user2_id):
    # 1. 관계 유형 파악
    relation_type = determine_relation_type(user1_id, user2_id)
    # 예: "B-Ar" (고향친구)
    
    # 2. 친밀도 레벨 파악
    intimacy_level = calculate_intimacy_level(user1_id, user2_id)
    # 예: "L3" (스스럼없는 사이)
    
    # 3. 적절한 질문 추천
    recommended_questions = recommend_questions(
        relation_type="B-Ar",
        intimacy_level="L3"
    )
    
    return {
        "relation": relation_type,
        "intimacy": intimacy_level,
        "questions": recommended_questions
    }
```

### 6.3 데이터베이스 스키마

```sql
-- Supabase 관계 저장 예시
INSERT INTO relations (mp_id, cp_id, rel_type_id, intimacy_lvl, duration_years, meeting_frequency, trust_score, created_at)
VALUES (
  'user-123', 
  'user-456', 
  (SELECT id FROM relation_types WHERE code = 'B-Ar'), 
  'L3', 
  15, -- 15년 지속
  12, -- 연 12회 만남
  4.2, -- 신뢰도 점수
  now()
);
```

---

## 📚 참고사항

### 용어 설명
- **MP (Main Player)**: 주 사용자, 게임의 중심이 되는 사람
- **관계 코드**: 대분류-소분류 형식 (예: B-Ar, Fa-Co, Lo-Hw)
- **친밀도 레벨**: L1~L5 단계로 표현

### 주의사항
1. 이 정의는 일반적인 가이드라인이며, 개인차가 존재함
2. 친밀도는 고정되지 않고 시간에 따라 변화함
3. 동일한 관계 유형도 개인에 따라 친밀도가 다를 수 있음
4. 문화적 차이를 고려해야 함

---

*TalkBingo - 관계의 깊이를 이해하는 지능형 대화 플랫폼*