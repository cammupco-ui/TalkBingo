# ⭐ Important - TalkBingo - 관계 및 친밀도 정의집

## 📋 목차
1. [성별 정의 (Gender)](#1-성별-정의-gender)
2. [관계 정의 (Relations)](#2-관계-정의-relations)
3. [친밀도 정의 (Intimacy Levels)](#3-친밀도-정의-intimacy-levels)
4. [관계-친밀도 매트릭스](#4-관계-친밀도-매트릭스)
5. [질문 카테고리 매핑](#5-질문-카테고리-매핑)

---

## 1. 성별 정의 (Gender)

TalkBingo에서는 사용자의 성별을 다음과 같이 코드화합니다.

### 성별 코드
```
M: Male (남성)
F: Female (여성)
```

### 사용 예시
```typescript
// 사용자 프로필
{
  userId: "user-123",
  name: "철수",
  gender: "M"  // 남성
}

{
  userId: "user-456",
  name: "영희",
  gender: "F"  // 여성
}
```

### 관계 표현에서의 성별 활용
성별 코드는 관계 유형과 결합하여 더 구체적인 관계를 표현합니다.

```
형제자매 관계:
- M + M + Fa-Br = 남자 형제 (형제)
- F + F + Fa-Si = 여자 자매 (자매)
- M + F + Fa-Sb = 누나-남동생 (남매)
- F + M + Fa-Bs = 오빠-여동생 (남매)

연인 관계:
- M + F + Lo-Sw = 남자친구 (boyfriend)
- F + M + Lo-Gw = 여자친구 (girlfriend)
- M + F + Lo-Hw = 남편-아내 (부부)
- F + M + Lo-Pw = 아내-남편 (부부)
- M + F + Lo-Gw = 약혼자 (fiance, 남성 관점)
- F + M + Lo-Sw = 약혼자 (fiance, 여성 관점)

부모-자녀 관계:
- M + M + Fa-Fs = 아버지-아들
- F + F + Fa-Md = 어머니-딸
- F + M + Fa-Ms = 어머니-아들
- M + F + Fa-Fd = 아버지-딸

조부모-손자녀 관계:
- M + M + Fa-Gp = 할아버지-손자
- F + F + Fa-Gp = 할머니-손녀
- M + F + Fa-Gp = 할아버지-손녀
- F + M + Fa-Gp = 할머니-손자
```

### Supabase 저장 예시
```sql
-- 사용자 생성 시 성별 포함 (auth.users 트리거 또는 profiles 테이블)
INSERT INTO profiles (id, nickname, gender, age_group, created_at)
VALUES ('user-123', '철수', 'M', '20s', now());

-- 관계 생성 시 성별 기반 정확한 관계 유형 설정
INSERT INTO relations (mp_id, cp_id, rel_type_id, intimacy_lvl)
VALUES 
  ('user-123', 'user-456', (SELECT id FROM relation_types WHERE code = 'B-Sc'), 'L3');

-- Note: gender_context는 쿼리 시 profiles 조인을 통해 확인 가능
```

### AI 에이전트에서 성별 활용
```python
def generate_questions_by_gender(user1, user2, relation_type, intimacy_level):
    """
    성별을 고려한 맞춤형 질문 생성
    """
    gender_context = f"{user1.gender}-{user2.gender}"
    
    # 예: M-M (남성-남성) 친구 관계
    if gender_context == "M-M" and relation_type == "B-Sc":
        questions = [
            "군대 이야기 나눠본 적 있어?",
            "같이 축구/게임 하러 가는 거 어때?",
            "형이라고 부를까, 친구처럼 지낼까?"
        ]
    
    # 예: M-F (남성-여성) 친구 관계  
    elif gender_context == "M-F" and relation_type == "B-Dc":
        questions = [
            "이성 친구로서 편한 관계야?",
            "서로 연애 상담 하는 사이야?",
            "주변에서 오해받은 적 있어?"
        ]
    
    # 예: F-F (여성-여성) 친구 관계
    elif gender_context == "F-F" and relation_type == "B-Ar":
        questions = [
            "같이 쇼핑/카페 자주 가?",
            "서로 화장품 추천해주는 사이야?",
            "밤새 수다 떤 적 있어?"
        ]
    
    return questions
```

---

## 2. 관계 정의 (Relations)

### 2.1 친구 (B: Friend)

친구는 자발적으로 형성된 수평적 관계로, 형성 맥락에 따라 네 가지 하위 유형으로 분류됩니다.

#### 🏡 고향친구 (Ar: Area Friend)
```
코드: B-Ar
설명: 어릴 때부터 같은 지역에서 자라며 형성된 친구
특징:
  - 학창시절부터 현재까지 이어진 관계
  - 성장 과정과 추억을 공유
  - 긴 관계 지속 기간 (5년 이상)
  - 가족과 같은 편안함
  
예시 관계:
  - 초등학교 때부터 알고 지낸 동네 친구
  - 중학교 동창이면서 같은 동네에서 자란 친구
  - 어릴 때부터 함께 놀던 소꿉친구

권장 친밀도 범위: L2 ~ L5
```

#### 🎓 학교친구 (Sc: School Friend)
```
코드: B-Sc
설명: 같은 학교(초중고/대학교)를 다니며 형성된 친구
특징:
  - 학업 경험과 추억을 공유
  - 정기적인 만남 (재학 중)
  - 동문 의식과 유대감
  - 졸업 후에도 지속 가능
  
예시 관계:
  - 고등학교 동창
  - 대학교 과 친구, 동아리 동기
  - 같은 반이었던 초등학교 친구
  - 학원에서 알게 된 친구

권장 친밀도 범위: L1 ~ L4
```

#### 💼 직장동료 (Or: Organization Friend)
```
코드: B-Or
설명: 같은 직장에서 근무하면서 형성된 친구
특징:
  - 업무와 커리어 경험을 공유
  - 직장이라는 맥락에서 시작
  - 공식적 관계에서 비공식적 관계로 발전
  - 이직 후에도 관계 유지 가능
  
예시 관계:
  - 같은 부서 동료
  - 프로젝트 팀원
  - 회사 동기
  - 전 직장 동료

권장 친밀도 범위: L1 ~ L4
```

#### 🏘️ 동네친구 (Dc: Daily-life Circle Friend)
```
코드: B-Dc
설명: 현재 접속지역이 비슷한 친구
특징:
  - 제도적 맥락(학교/직장)이 아닌 일상에서 형성
  - 취미, 관심사, 생활 패턴 공유
  - 자발적이고 자연스러운 관계
  - 성인 이후 주요 친구 형성 경로
  
예시 관계:
  - 헬스장에서 알게 된 친구
  - 카페 단골로 친해진 친구
  - 동호회/모임에서 만난 친구
  - 반려동물 산책 중 알게 된 친구
  - 온라인 커뮤니티에서 만나 오프라인 친구가 된 경우

권장 친밀도 범위: L1 ~ L4
```

---

### 2.2 가족 (Fa: Family)

가족은 혈연 또는 법적 관계로 형성된 수직적/수평적 관계입니다.

#### 👫 형제/자매 (Br: Brother / Si: Sister)
```
코드: Fa-Br (형제), Fa-Si (자매)
설명: 8살 이하 나이 차, 동일 성별 형제자매
특징:
  - 성장 환경 공유
  - 경쟁과 협력 관계 공존
  - 평생 지속되는 관계
  - 비슷한 세대 경험
  
나이 차이 기준:
  - 0~8살 차이: 형제/자매 관계
  - 예: 25살과 30살 (5살 차이)
  
예시 관계:
  - 3살 터울 형제
  - 일란성/이란성 쌍둥이
  - 6살 차이 나는 오빠와 동생

권장 친밀도 범위: L2 ~ L5
```

#### 👬👭 남매 (Sb: Sister-Brother / Bs: Brother-Sister)
```
코드: Fa-Sb (누나-남동생), Fa-Bs (오빠-여동생)
설명: 8살 이하 나이 차, 다른 성별 형제자매
특징:
  - 성별 차이로 인한 독특한 역학
  - 보호-피보호 관계 형성 가능
  - 성장하면서 관계 변화
  - 서로의 이성 관계 관찰자
  
나이 차이 기준:
  - 0~8살 차이: 남매 관계
  - 예: 27살 누나와 22살 남동생 (5살 차이)
  
예시 관계:
  - 2살 터울 오빠와 여동생
  - 7살 차이 나는 누나와 남동생
  - 4살 차이 언니와 남동생

권장 친밀도 범위: L2 ~ L5
```

#### 👨‍👦 사촌 (Co: Cousin)
```
코드: Fa-Co
설명: 15살 이하 나이 차, 확장된 가족 관계
특징:
  - 명절/가족 행사에서 만남
  - 또래 친구 같은 관계 가능
  - 혈연 유대감
  - 선택적 친밀도
  
나이 차이 기준:
  - 0~15살 차이: 사촌 관계
  - 예: 30살과 20살 (10살 차이)
  
예시 관계:
  - 비슷한 또래 사촌
  - 어릴 때부터 함께 자란 사촌
  - 연령차가 있는 사촌 형제
  - 외사촌, 고종사촌

권장 친밀도 범위: L1 ~ L4
```

#### 👨‍👧 부모-자녀 (Parent-Child)
```
코드: 
  - Fa-Fs (아버지-아들)
  - Fa-Md (어머니-딸)
  - Fa-Ms (어머니-아들)
  - Fa-Fd (아버지-딸)

설명: 20~30살 나이 차, 부모-자녀 관계
특징:
  - 가장 기본적인 수직적 관계
  - 양육-피양육 관계
  - 세대 차이 존재
  - 자녀 성장에 따라 관계 변화
  
나이 차이 기준:
  - 20~30살 차이: 부모-자녀 관계 (일반적인 경우)
  - 예: 55살 부모와 28살 자녀 (27살 차이)
  - 예: 50살 부모와 25살 자녀 (25살 차이)
  - 주의: 15살 이하 차이는 사촌 관계로 분류
  
예시 관계:
  - 대학생 자녀와 50대 부모
  - 직장인 자녀와 60대 부모
  - 미성년 자녀와 40대 부모

권장 친밀도 범위: L2 ~ L5
```

#### 👴👵 조부모-손자녀 (Gp: Grandparent)
```
코드: Fa-Gp
설명: 30~50살 나이 차, 조부모-손자녀 관계
특징:
  - 세대 차이가 큰 수직적 관계
  - 조부모의 지혜와 경험 전수
  - 손자녀의 성장 관찰자
  - 명절/가족 행사 중심 만남
  - 깊은 애정과 보호 본능
  
나이 차이 기준:
  - 30~50살 차이: 조부모-손자녀 관계
  - 예: 70살 조부모와 25살 손자녀 (45살 차이)
  - 예: 65살 조부모와 20살 손자녀 (45살 차이)
  
예시 관계:
  - 대학생 손자녀와 70대 조부모
  - 직장인 손자녀와 75대 조부모
  - 미성년 손자녀와 60대 조부모

권장 친밀도 범위: L2 ~ L5

CodeName 구조:
  형식: [MP]-[CP]-Fa-Gp-[Intimacy]
  예시:
    - M-M-Fa-Gp-L1: 할아버지-손자, 어색한 사이
    - F-F-Fa-Gp-L3: 할머니-손녀, 스스럼 없는 사이
    - M-F-Fa-Gp-L5: 할아버지-손녀, 깊은 신뢰의 사이
    - F-M-Fa-Gp-L4: 할머니-손자, 고민을 공유하는 사이

생성되는 CodeName (총 20개):
  - M-M-Fa-Gp-L1~L5: 할아버지-손자 (5개)
  - F-F-Fa-Gp-L1~L5: 할머니-손녀 (5개)
  - M-F-Fa-Gp-L1~L5: 할아버지-손녀 (5개)
  - F-M-Fa-Gp-L1~L5: 할머니-손자 (5개)

Supabase 테이블 구조:
  - profiles: 호스트/게스트 성별 저장
  - question_genders: 성별 타겟팅 매핑 (M-F 등)
  - question_relations: 관계 타겟팅 매핑 (Fa-Gp)
  - question_intimacy: 친밀도 타겟팅 매핑 (L1~L5)

생성 방법:
  - 독립 실행: npx ts-node scripts/generate-grandparent-codenames.ts
  - 전체 초기화: npm run init-supabase (자동 포함)
```

---

### 2.3 연인 (Lo: Lover)

연인은 로맨틱한 감정을 바탕으로 형성된 친밀한 관계입니다.

#### 💑 애인 (Sw: Sweet / Gw: Girl/Guy We're dating)
```
코드: Lo-Sw (남자친구), Lo-Gw (여자친구)
설명: 결혼 전 연인, 나이 차이 10~20살 이내
특징:
  - 로맨틱한 감정 기반
  - 법적 구속력 없음
  - 미래 지향적 관계
  - 높은 친밀도와 독점성
  
나이 차이 기준:
  - 10살 미만 차이
  - 예: 25살과 30살 (5살 차이)
  - 예: 28살과 35살 (7살 차이)
  - 예: 22살과 31살 (9살 차이)
  
관계 단계:
  - 썸: 관계 초기, 감정 확인 단계
  - 연애 초기: 1~6개월, 강렬한 감정
  - 연애 중기: 6개월~2년, 안정화
  - 연애 후기: 2년 이상, 결혼 고려

권장 친밀도 범위: L3 ~ L5
```

#### 💍 부부 (Hw: Husband-Wife / Pw: Partner-Wife)
```
코드: Lo-Hw (부부), Lo-Pw (배우자)
설명: 결혼 후 배우자, 나이 차이 10~20살 이내
특징:
  - 법적 구속력 있는 관계
  - 경제적 공동체
  - 평생 동반자
  - 가족 형성의 기반
  
나이 차이 기준:
  - 10살 미만 차이
  - 예: 30살과 35살 (5살 차이)
  - 예: 28살과 37살 (9살 차이)
  
관계 단계:
  - 신혼: 1~3년, 적응기
  - 안정기: 3~10년, 관계 정착
  - 성숙기: 10년 이상, 깊은 이해

권장 친밀도 범위: L4 ~ L5
```

---

## 3. 친밀도 정의 (Intimacy Levels)

친밀도는 두 사람 사이의 감정적 깊이와 신뢰의 정도를 나타냅니다.

### Level 1 - 처음 알게 된 사이 (초면)
```
코드: L1
설명: 서먹하고 탐색 단계
기간: 첫 만남 ~ 3개월

감정적 특징:
  - 예의를 갖춘 대화
  - 호기심과 긴장감
  - 인상 형성 단계
  - 거리감 유지

대화 주제:
  ✅ 가능한 주제:
    - 취향 (음식, 음악, 영화)
    - 일상적인 이야기
    - 날씨, 시사
    - 가벼운 농담
    - 취미와 관심사
  
  ❌ 피해야 할 주제:
    - 개인적인 고민
    - 과거 연애 이야기
    - 경제적 상황
    - 가족 문제
    - 정치·종교 논쟁

행동 패턴:
  - 존댓말 사용
  - 조심스러운 질문
  - 과도한 접촉 피함
  - SNS 친구 추가 단계

적용 관계:
  - B-Or (직장 동료) - 입사 초기
  - B-Dc (동네 친구) - 처음 만났을 때
  - B-Sc (학교 친구) - 새 학기 시작
```

### Level 2 - 조금 편해진 사이
```
코드: L2
설명: 취향/경험을 공유하고 일상 대화가 자연스러워짐
기간: 3개월 ~ 1년

감정적 특징:
  - 편안한 대화 흐름
  - 유머 감각 공유
  - 관심사 파악 완료
  - 예의는 유지하되 형식 줄어듦

대화 주제:
  ✅ 가능한 주제:
    - 학창시절 추억
    - 취미 생활 공유
    - 일상의 소소한 고민
    - 좋아하는 것/싫어하는 것
    - 가벼운 연애 경험담
    - 직장/학교 이야기
  
  ❌ 피해야 할 주제:
    - 깊은 트라우마
    - 심각한 고민
    - 금전 문제
    - 가족 갈등

행동 패턴:
  - 반말/존댓말 혼용 가능
  - 먼저 연락하기 편함
  - 1:1 만남 가능
  - 사진 공유

적용 관계:
  - B-Sc (학교 친구) - 한 학기 함께 수업
  - B-Or (직장 동료) - 몇 개월 함께 근무
  - B-Dc (동네 친구) - 정기적으로 만남
  - Fa-Co (사촌) - 명절에 자주 만나는 사촌
```

### Level 3 - 스스럼 없는 사이
```
코드: L3
설명: 장난/농담이 가능하고, 연애·과거 등 민감한 주제도 오고 감
기간: 1년 ~ 3년

감정적 특징:
  - 진정한 친구 단계
  - 편안함과 신뢰
  - 솔직한 감정 표현
  - 서로의 단점 인정

대화 주제:
  ✅ 가능한 주제:
    - 과거 연애 이야기
    - 현재 연애 고민
    - 개인적인 실수담
    - 가족 관계 (일부)
    - 진로 고민
    - 외모·성격 고민
    - 친구·동료와의 갈등
    - 가벼운 비밀
  
  ❌ 피해야 할 주제:
    - 심각한 트라우마
    - 정신 건강 문제
    - 큰 금전 문제
    - 범죄·법적 문제

행동 패턴:
  - 편한 농담과 장난
  - 자주 연락
  - 집에 초대 가능
  - 선물 교환
  - SNS 활발한 상호작용

적용 관계:
  - B-Ar (고향 친구) - 오래 알고 지낸 친구
  - B-Sc (학교 친구) - 절친
  - Lo-Sw (연인) - 연애 초기~중기
  - Fa-Br/Si (형제자매) - 사이 좋은 경우
```

### Level 4 - 고민을 공유하는 사이
```
코드: L4
설명: 서로 고민·약점을 공유하며 진정한 유대감을 형성
기간: 3년 이상

감정적 특징:
  - 깊은 신뢰와 안정감
  - 무조건적 지지
  - 감정적 의존 가능
  - 상처를 공유할 수 있음

대화 주제:
  ✅ 가능한 주제:
    - 진지한 고민 (진로, 관계)
    - 정신 건강 문제
    - 가족 갈등과 문제
    - 콤플렉스와 불안
    - 과거의 상처
    - 실패와 좌절
    - 미래에 대한 두려움
    - 자존감 문제
  
  ⚠️ 조심스러운 주제:
    - 큰 금전 문제 (차용 등)
    - 범죄 관련
    - 자살·자해

행동 패턴:
  - 위로와 조언 제공
  - 힘든 시기 곁에 있어줌
  - 긴급 상황 시 연락 가능
  - 가족처럼 대함
  - 오랜 시간 함께 보냄

적용 관계:
  - B-Ar (고향 친구) - 평생 친구
  - Fa-Br/Si (형제자매) - 돈독한 관계
  - Lo-Sw (연인) - 연애 후기
  - Lo-Hw (부부) - 결혼 초기~중기
```

### Level 5 - 깊은 신뢰의 사이
```
코드: L5
설명: 비밀, 경제적 문제, 미래 계획 등 거의 모든 것을 공유
기간: 5년 이상 또는 특별한 관계

감정적 특징:
  - 무조건적 신뢰
  - 영혼의 동반자
  - 판단 없는 수용
  - 평생 함께할 관계

대화 주제:
  ✅ 모든 주제 가능:
    - 모든 비밀
    - 경제적 문제 (빚, 투자, 대출)
    - 미래 계획 (결혼, 이민, 사업)
    - 법적 문제
    - 깊은 트라우마
    - 성적 고민
    - 죽음에 대한 두려움
    - 가장 수치스러운 기억

행동 패턴:
  - 비상 연락망 1순위
  - 재산 증여/상속 고려 대상
  - 법적 대리인 지정 가능
  - 인생의 중요한 결정 함께 논의
  - 평생 연락 유지

적용 관계:
  - B-Ar (고향 친구) - 평생 베프
  - Fa-Br/Si (형제자매) - 매우 가까운 관계
  - Fa-Fs/Md/Ms/Fd (부모-자녀) - 친구 같은 부모
  - Lo-Hw (부부) - 성숙기 부부
```

---

## 4. 관계-친밀도 매트릭스

### 4.1 관계별 일반적인 친밀도 분포

| 관계 유형 | L1 | L2 | L3 | L4 | L5 | 평균 친밀도 |
|----------|----|----|----|----|-------|------------|
| **친구 관계** |
| B-Ar (고향친구) | 5% | 15% | 30% | 35% | 15% | **L3~L4** |
| B-Sc (학교친구) | 10% | 30% | 40% | 15% | 5% | **L2~L3** |
| B-Or (직장동료) | 20% | 40% | 30% | 8% | 2% | **L2** |
| B-Dc (동네친구) | 15% | 35% | 35% | 12% | 3% | **L2~L3** |
| **가족 관계** |
| Fa-Br/Si (형제자매) | 0% | 10% | 30% | 40% | 20% | **L3~L4** |
| Fa-Sb/Bs (남매) | 0% | 15% | 35% | 35% | 15% | **L3~L4** |
| Fa-Co (사촌) | 5% | 40% | 35% | 15% | 5% | **L2~L3** |
| Fa-Fs/Md/Ms/Fd (부모-자녀) | 0% | 5% | 20% | 45% | 30% | **L4** |
| **연인 관계** |
| Lo-Sw (애인) | 0% | 5% | 35% | 40% | 20% | **L3~L4** |
| Lo-Hw (부부) | 0% | 0% | 10% | 40% | 50% | **L4~L5** |

### 4.2 친밀도 발전 시간표

```
일반적인 관계 발전 속도:

친구 관계 (B):
L1 → L2: 3~6개월 (정기적 만남 기준)
L2 → L3: 6개월~1년
L3 → L4: 1~3년
L4 → L5: 5년 이상

가족 관계 (Fa):
- 형제자매: 성장 과정에서 자연스럽게 L3~L4 형성
- 사촌: 교류 빈도에 따라 L1~L3
- 부모-자녀: 자녀 나이와 소통 방식에 따라 L2~L5

연인 관계 (Lo):
L3 → L4: 6개월~1년 (연애 기간)
L4 → L5: 1~3년 (결혼 전후)
```

---

## 5. 질문 카테고리 매핑

### 5.1 친밀도별 질문 유형

#### L1 질문 (가벼운 탐색)
```
카테고리:
  - 기본 정보 (나이, 직업, 학교)
  - 취향 (음식, 음악, 영화)
  - 일상 루틴
  - 첫인상

예시:
  - "가장 좋아하는 음식은?"
  - "주말엔 보통 뭐 해?"
  - "최근에 본 영화 중 추천할 만한 게 있어?"
  - "처음 봤을 때 내 첫인상은?"
```

#### L2 질문 (경험 공유)
```
카테고리:
  - 학창시절 추억
  - 취미 생활
  - 가벼운 고민
  - 좋아하는 것/싫어하는 것

예시:
  - "학창시절 가장 기억에 남는 일은?"
  - "요즘 빠진 취미가 있어?"
  - "친구들이랑 보통 뭐 하고 놀아?"
  - "내가 싫어하는 사람 유형은?"
```

#### L3 질문 (민감한 주제)
```
카테고리:
  - 과거 연애
  - 개인적 실수
  - 외모·성격 고민
  - 가족 관계 (일부)

예시:
  - "전 연인과 헤어진 이유는?"
  - "인생에서 가장 후회되는 선택은?"
  - "내 외모 중 바꾸고 싶은 점은?"
  - "부모님과의 관계는 어때?"
```

#### L4 질문 (깊은 고민)
```
카테고리:
  - 진로 고민
  - 정신 건강
  - 가족 갈등
  - 과거의 상처

예시:
  - "지금 가장 큰 고민은 뭐야?"
  - "우울했던 시기가 있었어?"
  - "가족 중에 힘든 관계가 있어?"
  - "극복하지 못한 트라우마가 있어?"
```

#### L5 질문 (모든 것)
```
카테고리:
  - 비밀
  - 경제적 문제
  - 미래 계획
  - 법적·윤리적 딜레마

예시:
  - "아무에게도 말하지 못한 비밀이 있어?"
  - "지금 경제적으로 어려운 점은?"
  - "10년 후 어떤 삶을 살고 싶어?"
  - "살면서 한 가장 큰 실수는?"
```

### 5.2 관계별 추천 질문 유형

#### 친구 관계 (B)
```
B-Ar (고향친구):
  공통 질문:
    - 어릴 때 추억
    - 같이 놀던 장소
    - 학창시절 사건
    - 서로의 변화
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "초등학교 때 같이 축구했던 거 기억나?"
      - "군대 다녀온 후 어떻게 달라졌어?"
      - "같이 PC방 가던 거 생각나?"
    
    F-F (여성-여성):
      - "어릴 때 같이 인형 놀이 했던 거 기억나?"
      - "중학교 때 같이 좋아했던 아이돌 누구였지?"
      - "같이 화장 연습하던 거 기억나?"
    
    M-F (남성-여성):
      - "학교 다닐 때 이성으로 의식한 적 있어?"
      - "서로 연애 고민 상담 많이 했지?"
      - "주변에서 사귀는 거 아니냐고 물어본 적 있어?"

B-Sc (학교친구):
  공통 질문:
    - 학교 추억
    - 선생님/교수님 이야기
    - 시험 에피소드
    - 졸업 후 변화
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "체육 시간에 같은 팀이었던 거 기억나?"
      - "같이 게임하거나 만화 본 적 많았지?"
      - "군대 가기 전에 만났던 거 기억나?"
    
    F-F (여성-여성):
      - "화장실에서 같이 수다 떨던 거 기억나?"
      - "누가 더 예쁘다고 주변에서 말했어?"
      - "생리 얘기도 스스럼없이 했지?"
    
    M-F (남성-여성):
      - "수업 시간에 짝이었던 적 있어?"
      - "서로 이성 친구 소개해준 적 있어?"
      - "졸업 후에도 자주 연락하고 지냈어?"

B-Or (직장동료):
  공통 질문:
    - 업무 스트레스
    - 직장 내 인간관계
    - 커리어 고민
    - 이직 계획
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "회식 자리에서 속마음 많이 나눴지?"
      - "담배 피우러 가면서 이야기 많이 했어?"
      - "같이 운동하거나 골프 치러 가?"
    
    F-F (여성-여성):
      - "점심시간에 같이 밥 먹으면서 수다 떨었지?"
      - "직장 내 차별 같이 겪은 적 있어?"
      - "화장품이나 패션 정보 같이 공유했어?"
    
    M-F (남성-여성):
      - "직장에서 오해받은 적 없어?"
      - "서로 업무적으로 도움 많이 줬지?"
      - "퇴근 후에도 따로 만날 정도로 편해?"

B-Dc (동네친구):
  공통 질문:
    - 취미 생활
    - 동네 맛집
    - 일상 루틴
    - 관심사 공유
  
  성별별 특화 질문:
    M-M (남성-남성):
      - "헬스장에서 같이 운동해?"
      - "축구나 농구 같이 하러 가?"
      - "게임 같이 하거나 술 마시러 가?"
    
    F-F (여성-여성):
      - "카페에서 수다 떨면서 시간 가는 줄 몰랐지?"
      - "같이 쇼핑하거나 맛집 탐방 다녀?"
      - "요가나 필라테스 같이 배워?"
    
    M-F (남성-여성):
      - "이성 친구로 편하게 지내는 거야?"
      - "연애 상담 서로 해줘?"
      - "주변에서 사귀는 줄 아는 사람 많아?"
```

#### 가족 관계 (Fa)
```
Fa-Br/Si (형제자매):
  공통 질문:
    - 어릴 때 싸운 기억
    - 부모님 이야기
    - 서로에 대한 속마음
    - 가족 내 역할
  
  성별별 특화 질문:
    M-M (형제):
      - "형/동생 중 누가 더 싸움 잘했어?"
      - "군대 이야기 서로 많이 나눴어?"
      - "부모님께 누가 더 말썽이었어?"
    
    F-F (자매):
      - "옷이나 화장품 같이 쓴 적 많아?"
      - "언니/동생 중 누가 더 예뻐?"
      - "연애 이야기 서로 털어놔?"

Fa-Sb/Bs (남매):
  공통 질문:
    - 이성 형제만의 특별한 관계
    - 서로 챙겨준 기억
    - 질투했던 순간
    - 연애 상담
  
  성별별 특화 질문:
    M-F (오빠-여동생):
      - "오빠가 남자친구 대하듯 까다로웠어?"
      - "동생 데이트 상대 검증해준 적 있어?"
      - "동생 앞에서 쿨한 척 많이 했지?"
    
    F-M (누나-남동생):
      - "누나가 엄마처럼 잔소리 많이 했어?"
      - "동생 여자친구 어떤지 궁금하지?"
      - "동생한테 패션 조언 해준 적 있어?"

Fa-Co (사촌):
  공통 질문:
    - 명절 추억
    - 친척들 이야기
    - 같이 놀던 기억
    - 연락 빈도
  
  성별별 특화 질문:
    M-M (남자 사촌):
      - "명절 때 사촌 형제들끼리 게임했지?"
      - "군대 이야기 같이 공유했어?"
      - "어른들 안 계실 때 같이 술 마신 적 있어?"
    
    F-F (여자 사촌):
      - "명절 때 부엌일 같이 했지?"
      - "화장이나 옷 스타일 서로 봐줬어?"
      - "사촌 오빠들 누가 더 잘생겼는지 얘기했어?"
    
    M-F / F-M (이성 사촌):
      - "어릴 때 이성으로 의식한 적 있어?"
      - "서로 연애 상담 편하게 해?"
      - "명절 때 서먹하지 않아?"

Fa-Parent (부모-자녀):
  성별별 특화 질문:
    M-M (아버지-아들):
      - "아버지처럼 되고 싶어?"
      - "남자로서 조언 많이 해주셨어?"
      - "군대 이야기 나눈 적 있어?"
    
    F-F (어머니-딸):
      - "엄마 화장품 몰래 써본 적 있어?"
      - "연애 이야기 편하게 나눠?"
      - "외모에 대해 얘기 많이 해?"
    
    F-M (어머니-아들):
      - "엄마가 제일 많이 걱정하시는 게 뭐야?"
      - "여자친구 엄마한테 소개했어?"
      - "엄마 말씀이 제일 힘이 돼?"
    
    M-F (아버지-딸):
      - "아빠가 남자친구 검증 심하게 했어?"
      - "아빠랑 데이트한 적 있어?"
      - "아빠가 딸바보야?"
```

#### 연인 관계 (Lo)
```
Lo-Sw (애인):
  성별별 특화 질문:
    M-F (남자친구-여자친구):
      - "남자친구가 로맨틱한 편이야?"
      - "생리 기간에 배려해줘?"
      - "스킨십 먼저 시도하는 쪽은?"
    
    F-M (여자친구-남자친구):
      - "여자친구가 애교 많이 부려?"
      - "질투 많이 하는 편이야?"
      - "데이트 비용 어떻게 나눠?"

Lo-Hw (부부):
  성별별 특화 질문:
    M-F (남편-아내):
      - "집안일 분담 어떻게 해?"
      - "아내의 커리어 지지해줘?"
      - "육아 역할 어떻게 나눠?"
    
    F-M (아내-남편):
      - "남편이 살림에 적극적이야?"
      - "시댁과의 관계는 어때?"
      - "남편이 감정 표현 잘해?"

Fa-Gp (조부모-손자녀):
  성별별 특화 질문:
    M-M (할아버지-손자):
      - "할아버지처럼 되고 싶어?"
      - "할아버지의 인생 이야기 들었어?"
      - "명절 때 할아버지와 뭐 하며 시간 보내?"
    
    F-F (할머니-손녀):
      - "할머니 화장품 몰래 써본 적 있어?"
      - "할머니의 요리 비법 배웠어?"
      - "할머니와 쇼핑 가는 거 좋아해?"
    
    M-F (할아버지-손녀):
      - "할아버지가 손녀바보야?"
      - "할아버지와 데이트한 적 있어?"
      - "할아버지가 남자친구 검증 심하게 했어?"
    
    F-M (할머니-손자):
      - "할머니가 제일 많이 걱정하시는 게 뭐야?"
      - "할머니 말씀이 제일 힘이 돼?"
      - "할머니와 함께 보낸 시간 중 가장 기억에 남는 건?"
```

---

## 6. 활용 가이드

### 6.1 관계 판단 흐름도

```
질문 1: 이 관계는 어떻게 시작되었나?
├─ 혈연/법적: Fa (가족)
├─ 로맨틱: Lo (연인)
└─ 그 외: B (친구)

질문 2 (친구일 경우): 어디서 만났나?
├─ 어릴 때부터 같은 지역: B-Ar
├─ 학교: B-Sc
├─ 직장: B-Or
└─ 일상 생활권: B-Dc

질문 3: 얼마나 친한가?
├─ 처음/서먹: L1
├─ 조금 편함: L2
├─ 스스럼없음: L3
├─ 고민 공유: L4
└─ 모든 것 공유: L5
```

### 6.2 AI 에이전트 활용

```python
# 관계 및 친밀도 분석 예시
def analyze_relationship(user1_id, user2_id):
    # 1. 관계 유형 파악
    relation_type = determine_relation_type(user1_id, user2_id)
    # 예: "B-Ar" (고향친구)
    
    # 2. 친밀도 레벨 파악
    intimacy_level = calculate_intimacy_level(user1_id, user2_id)
    # 예: "L3" (스스럼없는 사이)
    
    # 3. 적절한 질문 추천
    recommended_questions = recommend_questions(
        relation_type="B-Ar",
        intimacy_level="L3"
    )
    
    return {
        "relation": relation_type,
        "intimacy": intimacy_level,
        "questions": recommended_questions
    }
```

### 6.3 데이터베이스 스키마

```sql
-- Supabase 관계 저장 예시
INSERT INTO relations (mp_id, cp_id, rel_type_id, intimacy_lvl, duration_years, meeting_frequency, trust_score, created_at)
VALUES (
  'user-123', 
  'user-456', 
  (SELECT id FROM relation_types WHERE code = 'B-Ar'), 
  'L3', 
  15, -- 15년 지속
  12, -- 연 12회 만남
  4.2, -- 신뢰도 점수
  now()
);
```

---

## 📚 참고사항

### 용어 설명
- **MP (Main Player)**: 주 사용자, 게임의 중심이 되는 사람
- **관계 코드**: 대분류-소분류 형식 (예: B-Ar, Fa-Co, Lo-Hw)
- **친밀도 레벨**: L1~L5 단계로 표현

### 주의사항
1. 이 정의는 일반적인 가이드라인이며, 개인차가 존재함
2. 친밀도는 고정되지 않고 시간에 따라 변화함
3. 동일한 관계 유형도 개인에 따라 친밀도가 다를 수 있음
4. 문화적 차이를 고려해야 함

---

*TalkBingo - 관계의 깊이를 이해하는 지능형 대화 플랫폼*