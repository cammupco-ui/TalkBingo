# TalkBingo Quiz Data Generation Rules

이 문서는 `TalkBingo`의 퀴즈 데이터 관리 및 선별 규칙을 정의합니다.

> **Note**: 
> *   현재 **AI 맞춤형 실시간 질문 생성**은 도입 전이며, **Supabase**에 저장된 데이터를 **관계/친밀도(CodeName)** 기준으로 쿼리하여 제공합니다.
> *   실제 데이터 생성 및 관리는 **외부 프로젝트**에서 진행되며, 본 문서는 앱 서비스 내에서의 **데이터 구조 및 선택 기준**을 설명합니다.
> *   모든 질문은 **한국어(KO)**와 **영어(EN)**를 동시에 지원합니다.

---

## 0. ID 생성 규칙 (ID Generation Rules)

모든 퀴즈 및 게임 데이터는 아래의 ID 포맷을 엄격히 따릅니다.

| 퀴즈 타입 | 약어 | ID 생성 포맷 (Type + Year + Seq) | 예시 (2026년 첫 번째 데이터) |
| --- | --- | --- | --- |
| 밸런스 퀴즈 (Balance Quiz) | `B` | `B + YY + - + 00001` | `B26-00001` |
| 진실 게임 (Truth Game) | `T` | `T + YY + - + 00001` | `T26-00001` |
| 미니 게임 (Mini Game) | `M` | `M + YY + - + 00001` | `M26-00001` |

---

## 1. 밸런스 게임 (Balance Quiz) 규칙

밸런스 게임은 두 가지 선택지 중 하나를 선택해야 하는 게임입니다.

### 1.1 데이터 구조 (Structure)
| 컬럼명 | 설명 | 예시 | 비고 |
| --- | --- | --- | --- |
| `CodeName` | 타겟팅 코드 | `*-*-B-Ar-L1` | **Wildcard 사용 (`*-*`)**. 성별 무관, 타겟팅 전용 태그 |
| `Order` | 관리 코드 | `BDcL3-00001` | **(Semantic)** 대분류소분류친밀도-순번. |
| `q_id` | 시스템 ID | `B26-00001` | **(System)** 타입+연도-전체순번. 불변의 고유키 (PK). |
| `content` | 질문 내용 (KO) | `탕수육 먹는 스타일은?` | 상황이나 선택의 기준을 제시 (기본형) |
| `content_en` | 질문 (EN) | `What is your style for Tangsuyuk?` | **(Natural)** 직역이 아닌, 자연스러운 영어식 표현 |
| `choice_a` | 선택지 A (KO) | `부먹` | 짧고 명확한 텍스트 |
| `choice_b` | 선택지 B (KO) | `찍먹` | A와 대립되거나 비교되는 텍스트 |
| `choice_a_en` | 선택지 A (EN) | `Pouring Sauce` | **(Natural)** 직역이 아닌, 자연스러운 영어식 표현 |
| `choice_b_en` | 선택지 B (EN) | `Dipping Sauce` | **(Natural)** 직역이 아닌, 자연스러운 영어식 표현 |

### 1.2 콘텐츠 관리 가이드라인
1.  **대립성 (Conflict)**: 두 선택지는 명확하게 구분되어야 하며, 선택이 고민될수록 좋은 질문입니다.
2.  **간결성 (Conciseness)**: 선택지는 가능한 짧게(단어 또는 짧은 구) 작성합니다. 질문 본문에서 상황을 충분히 설명합니다.
3.  **다양성 (Variety)**:
    *   **가치관형**: "돈 vs 명예", "과정 vs 결과"
    *   **취향형**: "부먹 vs 찍먹", "여름 vs 겨울"
    *   **상황형**: "평생 폰 없이 살기, 평생 친구 없이 살기"

### 1.3 최적의 관리 조건 (Optimization Rules)
질문(`content`)과 선택지(`choice_a`, `choice_b`)를 생성할 때 다음 조건을 준수해야 합니다.

> **Note (English Localization Rules)**: 
> *   영문 데이터(`_en`)는 한국어를 그대로 번역(Literal Translation)하는 것이 아니라, 해당 언어권에서 **자연스럽게 사용하는 표현(Transcreation)**으로 재작성합니다.
> *   예: "탕수육 부먹 vs 찍먹" -> "Pouring Sauce vs Dipping Sauce" (문화적 맥락 전달)

#### A. 질문 내용 (`content`)
*   **몰입감 (Immersive)**: 단순한 질문보다는 구체적인 상황을 부여하여 몰입감을 높입니다.
    *   *Bad*: "어떤 초능력을 원해?"
    *   *Good*: "내일 당장 초능력을 얻을 수 있다면, 당신의 선택은?"
*   **명확한 기준 (Clear Criteria)**: 선택의 기준이 모호하지 않도록 상황을 한정합니다.
    *   *Bad*: "누가 더 나빠?"
    *   *Good*: "절친이 내 애인과 바람났을 때, 더 용서할 수 없는 사람은?"
*   **간결함 (Concise)**: 모바일 화면(빙고 타일)에 최적화되도록 **30자 이내**를 권장합니다.

#### B. 선택지 (`choice_a`, `choice_b`)
*   **상호 배타적 (Mutually Exclusive)**: 두 선택지는 겹치지 않고 확실하게 대립되어야 합니다.
*   **길이 균형 (Length Balance)**: 두 선택지의 텍스트 길이를 비슷하게 맞춰 시각적 균형을 유지합니다.
*   **명확한 트레이드오프 (Clear Trade-off)**: 하나를 얻으면 하나를 잃는 구조가 가장 이상적입니다.
    *   *Example*: "평생 두통 (육체적 고통)" vs "평생 흉터 (심미적 손해)"

4.  **톤앤매너 (Tone & Manner) - 친밀도별 가이드**
    친밀도(Intimacy Level)에 따라 질문의 깊이와 수위를 조절하여, 관계 발전에 자연스럽게 기여해야 합니다.

    *   **L1 (어색한 사이)**: **"탐색 & 취향"**
        *   **주제**: 음식, 여행, 취미, MBTI, 가벼운 일상.
        *   **톤**: 예의 바르고 부담 없는 질문. 호불호 위주.
        *   **예시**: "찍먹 vs 부먹", "휴가 때 가고 싶은 곳은?"

    *   **L2 (조금 편해진 사이)**: **"경험 & 공감"**
        *   **주제**: 학창 시절, 직장 생활 소소한 에피소드, 주말 계획.
        *   **톤**: 공감대를 형성할 수 있는 경험 공유.
        *   **예시**: "학창 시절 가장 기억남는 선생님은?", "주말에 주로 하는 일은?"

    *   **L3 (스스럼 없는 사이)**: **"가치관 & 생각"**
        *   **주제**: 연애관(가벼운), 돈에 대한 생각, 성격의 장단점.
        *   **톤**: 서로의 생각을 궁금해하고 의견을 나누는 질문.
        *   **예시**: "연인과 연락 문제로 싸운다면?", "로또 1등 되면 뭐 할거야?"

    *   **L4 (고민을 공유하는 사이)**: **"속마음 & 감정"**
        *   **주제**: 현재의 고민, 과거의 후회, 미래의 불안, 깊은 연애관.
        *   **톤**: 진지한 이야기를 꺼낼 수 있는 신뢰 기반 질문.
        *   **예시**: "요즘 가장 힘든 점은?", "다시 돌아가고 싶은 순간이 있다면?"

    *   **L5 (비밀을 지켜주는 사이)**: **"비밀 & 본질"**
        *   **주제**: 남들에게 말 못 할 비밀, 트라우마, 인생의 목표, 19금(선택적).
        *   **톤**: 가장 솔직하고 가감 없는 대화.
        *   **예시**: "내 인생 최악의 흑역사는?", "절대 용서할 수 없는 행동은?"

---

## 2. 진실 게임 (Truth Quiz) 규칙

진실 게임은 서로에 대해 깊이 알아가기 위한 서술형/대화형 질문입니다.

### 2.1 데이터 구조 (Structure)
| 컬럼명 | 설명 | 예시 | 비고 |
| --- | --- | --- | --- |
| `CodeName` | 타겟팅 코드 | `*-*-Fa-*-L1` | **Wildcard 사용**. 성별 무관, 관계/친밀도 기준 |
| `Order` | 관리 코드 | `TFaL1-00001` | **(Semantic)** T(Truth)가족(Fa)L1-순번. |
| `q_id` | 시스템 ID | `T26-00001` | **(System)** T(Truth)+26년-전체순번. |
| `content` | 질문 내용 (KO) | `본인이 생각하는 자신의 장점은?` | 자신에 대해 이야기할 수 있는 질문 |
| `content_en` | 질문 (EN) | `What is your most memorable trip?` | **(Natural)** 직역이 아닌, 자연스러운 영어식 표현 |
| `answers` | 답변 예시 (KO) | `파리, 뉴욕, 제주도` | 콤마(,)로 구분된 키워드 |
| `answers_en` | 답변 예시 (EN) | `Paris, NYC, Jeju` | English Answers |

### 2.2 콘텐츠 관리 가이드라인
1.  **개방성 (Open-ended)**: "예/아니오"로 끝나는 질문보다는 "이유는?", "언제?", "무엇을?" 등 이야기를 끌어내는 질문을 지향합니다.
2.  **답변 가이드 (Answer Guide)**: `answers` 컬럼은 정답이 아니라, 사용자가 답변할 때 참고할 수 있는 **키워드**나 **예시**를 제공합니다.
3.  **카테고리 (Category)**:
    *   **과거/경험**: "학창 시절 흑역사는?", "가장 후회되는 일은?"
    *   **가치관/생각**: "사랑이란 무엇이라고 생각하나요?", "성공의 기준은?"
    *   **미래/상상**: "10년 뒤 내 모습은?", "로또 1등이 된다면?"
    *   **취향/선호**: "가장 좋아하는 음식은?", "힐링하는 방법은?"

### 2.3 최적의 관리 조건 (Optimization Rules)
질문(`content`)과 답변 가이드(`answers`)를 생성할 때 다음 조건을 준수해야 합니다.

#### A. 질문 내용 (`content`)
*   **서술형 유도 (Open-ended)**: "예/아니오"로 끝나는 닫힌 질문을 피하고, 이야기를 끌어낼 수 있는 질문이어야 합니다.
    *   *Bad*: "여행 좋아해?"
    *   *Good*: "가장 기억에 남는 여행지와 그 이유는?"
*   **구체적 상황 (Specific Context)**: 막연한 질문보다는 구체적인 상황이나 조건을 제시하여 답변을 돕습니다.
    *   *Bad*: "행복이 뭐야?"
    *   *Good*: "최근 일주일 중 가장 행복했던 순간은 언제였어?"
*   **감정 터치 (Emotional Engagement)**: 단순한 사실 확인보다는 감정이나 생각을 묻는 질문이 대화를 깊게 만듭니다.
    *   *Example*: "그때 어떤 기분이 들었어?", "가장 설렜던 순간은?"

#### B. 답변 가이드 (`answers`)
*   **다양한 예시 (Variety)**: 답변이 한 방향으로 쏠리지 않도록 다양한 관점의 키워드를 제공합니다.
    *   *Example*: "성취감, 휴식, 맛있는 음식, 사람들과의 대화"
*   **가이드 역할 (Guidance)**: 정답을 강요하는 것이 아니라, "이런 식으로 대답하면 돼"라는 힌트를 줍니다.
*   **키워드 중심 (Keyword-based)**: 문장보다는 핵심 단어 위주로 나열하여 사용자가 빠르게 스캔할 수 있게 합니다.

---

## 3. CodeName 규칙 (Targeting Logic)

## 3. CodeName 규칙 (Targeting Logic)

모든 퀴즈 데이터는 **`CodeName`**을 통해 타겟팅 대상을 정의합니다.

**Format**: `[MP]-[CP]-[IR]-[SubRel]-[Intimacy]`

*   **MP (Respondent Constraint)**: 질문에 답변하는 사람의 **필수 성별 조건**.
    *   `*`: 성별 무관 (Neutral)
    *   `M`: 남성 전용 (Male Only)
    *   `F`: 여성 전용 (Female Only)
*   **CP (Partner Constraint)**: 상대방의 **필수 성별 조건**.
    *   `*`: 성별 무관
    *   `M`: 상대가 남성일 때만
    *   `F`: 상대가 여성일 때만
*   **IR (Intimate Relationship)**: `B` (Friend), `Fa` (Family), `Lo` (Lover)
*   **SubRel**: `Ar`, `Sc` 등
*   **Intimacy**: `L1` ~ `L5`

> **Note (Intersection Logic - 교집합 매칭)**: 
> *   **문제**: 빙고 보드는 두 플레이어가 공유하므로, `M-F` 같은 특정 성별 조합만 가져오면 반대 상황에서 어색할 수 있습니다.
> *   **해결**: 게임 시작 시, 참여하는 **두 플레이어 모두에게 적합한 질문(`Intersection`)**을 추출하여 각 셀에 **2개씩 할당**합니다.
>     *   **구조**: `1 Cell` = `Main Question` (초기 배치) + `Reserve Question` (미니게임/패스용)
>     *   **필터링**: (Host=M, Guest=F) → 두 성별 모두 호환되는 `*` (Neutral) 질문만 추출.
> *   이 방식을 통해 **상황 적합성**과 **예비 질문 확보**라는 두 마리 토끼를 모두 잡습니다.

---

## 4. 데이터 관리 메모

*   **성별 변형 삭제**: 초기 기획의 복잡한 성별 변형(M->F, F->M 등)은 제거되었습니다. 질문은 가능한 성별 중립적으로 작성하거나, 문맥상 자연스러운 표준어를 사용합니다.
*   **AI 도입 계획**: 향후 AI 에이전트가 도입되면, 이 CodeName 구조를 기반으로 실시간 생성 로직으로 고도화될 예정입니다.

---

## 0. ID 생성 규칙 (ID Generation Rules)

모든 퀴즈 및 게임 데이터는 아래의 ID 포맷을 엄격히 따릅니다.

| 퀴즈 타입 | 약어 | ID 생성 포맷 (Type + Year + Seq) | 예시 (2026년 첫 번째 데이터) |
| --- | --- | --- | --- |
| 밸런스 퀴즈 (Balance Quiz) | `B` | `B + YY + - + 00001` | `B26-00001` |
| 진실 게임 (Truth Game) | `T` | `T + YY + - + 00001` | `T26-00001` |
| 미니 게임 (Mini Game) | `M` | `M + YY + - + 00001` | `M26-00001` |

---

